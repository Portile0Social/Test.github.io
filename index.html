<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Code Editor with Suggestions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            height: 100vh;
            font-family: Arial, sans-serif;
            background-color: #1e1e1e;
            color: white;
        }

        .editor {
            width: 50%;
            padding: 10px;
            background-color: #2d2d2d;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .editor textarea {
            background-color: #1e1e1e;
            color: white;
            width: 100%;
            height: 80%;
            border: none;
            padding: 10px;
            font-size: 16px;
            resize: none;
            border-radius: 5px;
            outline: none;
            font-family: Consolas, "Courier New", monospace;
        }

        .suggestions {
            background-color: #333;
            color: white;
            position: absolute;
            top: 50px;
            left: 10px;
            border-radius: 5px;
            width: 90%;
            max-height: 100px;
            overflow-y: auto;
            display: none;
        }

        .suggestions div {
            padding: 5px;
            cursor: pointer;
        }

        .suggestions div:hover {
            background-color: #555;
        }

        .preview {
            width: 50%;
            background-color: white;
            padding: 10px;
            border-left: 2px solid #333;
            overflow: auto;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="editor">
        <textarea id="codeArea" placeholder="Type your HTML, CSS, or JS here..."></textarea>
        <div class="suggestions" id="suggestions"></div>
    </div>
    <div class="preview">
        <iframe id="livePreview"></iframe>
    </div>

    <script>
        const codeArea = document.getElementById('codeArea');
        const livePreview = document.getElementById('livePreview').contentWindow.document;
        const suggestionsBox = document.getElementById('suggestions');

        const snippets = {
            html: ['<div>', '<h1>', '<p>', '<a href="">', '<img src="" alt="">', '<button>'],
            css: ['color:', 'background-color:', 'font-size:', 'border:', 'padding:'],
            js: ['console.log()', 'document.querySelector()', 'function()', 'if()', 'alert()']
        };

        codeArea.addEventListener('input', function() {
            updatePreview();
            showSuggestions();
        });

        codeArea.addEventListener('keydown', function(event) {
            if (event.key === 'Tab') {
                event.preventDefault();
                insertSuggestion();
            }
        });

        function showSuggestions() {
            const value = codeArea.value;
            const lastWord = value.split(/\s/).pop().toLowerCase();
            let matches = [];

            if (lastWord.startsWith('<')) {
                matches = snippets.html.filter(snippet => snippet.startsWith(lastWord));
            } else if (lastWord.includes(':')) {
                matches = snippets.css.filter(snippet => snippet.startsWith(lastWord));
            } else if (lastWord.includes('(')) {
                matches = snippets.js.filter(snippet => snippet.startsWith(lastWord));
            }

            if (matches.length > 0) {
                suggestionsBox.innerHTML = matches.map(match => `<div>${match}</div>`).join('');
                suggestionsBox.style.display = 'block';
            } else {
                suggestionsBox.style.display = 'none';
            }
        }

        function insertSuggestion() {
            const firstSuggestion = document.querySelector('.suggestions div');
            if (firstSuggestion) {
                const value = codeArea.value.split(/\s/).slice(0, -1).join(' ') + ' ' + firstSuggestion.innerText;
                codeArea.value = value;
                suggestionsBox.style.display = 'none';
                updatePreview();
            }
        }

        function updatePreview() {
            livePreview.open();
            livePreview.write(codeArea.value);
            livePreview.close();
        }

        updatePreview();
    </script>
</body>
</html>
